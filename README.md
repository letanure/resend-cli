<!--
⚠️  DO NOT EDIT THIS FILE DIRECTLY!
This README.md is auto-generated from templates/README.template.md
To make changes, edit the template file and run: npm run docs:generate
-->

# Resend CLI

A command-line interface for the [Resend](https://resend.com) email API. Features both CLI commands and an interactive TUI (Text User Interface) for sending emails, managing domains, and more.

> **⚠️ Disclaimer**: This is an **unofficial** CLI tool built on top of the [Resend Node.js SDK](https://github.com/resendlabs/resend-node). It is not affiliated with or endorsed by Resend. For official Resend tools and support, visit [resend.com](https://resend.com).

> **🚧 Development Status**: Some features (email update/cancel, audience management) are implemented but not yet released. They will be available in the next version.

Perfect for:
- Testing email flows during development
- Sending notifications from CI/CD pipelines
- Quick email sending from scripts and automation
- Local development without web interfaces

## Requirements

- Node.js 18+
- Resend API key (get one at [resend.com](https://resend.com))

## Quick Start (TLDR)

### CLI Mode
```bash
# Send an email via CLI
npx @letanure/resend-cli email send \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Hello from CLI" \
  --text="This email was sent from the command line!"
```

### TUI Mode (Interactive)
```bash
# Launch interactive interface
npx @letanure/resend-cli

# Launch in dry-run mode (validation only, no sending)
npx @letanure/resend-cli --dry-run
```

**Prerequisites:** Set your Resend API key as an environment variable:
```bash
export RESEND_API_KEY="re_your_api_key_here"
```

Get your API key at: https://resend.com/docs/dashboard/api-keys/introduction

**Note for Testing:** When testing with real emails, use your registered email address in the `--to` field to ensure delivery.

## Table of Contents

- [Requirements](#requirements)
- [Quick Start (TLDR)](#quick-start-tldr)
- [Installation](#installation)
- [Configuration](#configuration)
- [CLI Commands](#cli-commands)
- [Output Formats](#output-formats)
- [Examples](#examples)
- [TUI Mode (Interactive Interface)](#tui-mode-interactive-interface)
- [CI/CD Integration](#cicd-integration)
- [Complete CLI Reference](#complete-cli-reference)
- [Troubleshooting](#troubleshooting)
- [Development](#development)
- [License](#license)
- [Contributing](#contributing)

## Installation

**Recommended:** Use with npx (no installation required)
```bash
npx @letanure/resend-cli --help
```

**For frequent use:** Install globally
```bash
npm install -g @letanure/resend-cli
resend-cli --help
```

**In projects:** Install locally
```bash
npm install @letanure/resend-cli
npx resend-cli --help
```

## Configuration

### Environment Variables

The CLI requires your Resend API key to be available as an environment variable.

#### Setup Methods

**Temporary (current session only):**
```bash
export RESEND_API_KEY="re_xxxxxxxxxxxx"
```

**Permanent (recommended):**
```bash
# Add to your shell profile
echo 'export RESEND_API_KEY="re_xxxxxxxxxxxx"' >> ~/.bashrc
source ~/.bashrc

# Or for zsh users
echo 'export RESEND_API_KEY="re_xxxxxxxxxxxx"' >> ~/.zshrc
source ~/.zshrc
```

**One-time usage:**
```bash
RESEND_API_KEY="re_xxxxxxxxxxxx" resend-cli email send --from="..." --to="..."
```

#### Getting Your API Key

1. Sign up at [resend.com](https://resend.com)
2. Go to [API Keys](https://resend.com/api-keys)
3. Create a new API key
4. Copy the key (starts with `re_`)

## CLI Commands

```bash
$ resend-cli --help
Usage: resend-cli [options] [command]

Resend CLI - Send emails, manage domains, and more

Options:
  -V, --version   output the version number
  --dry-run       Enable dry-run mode for all operations (default: false)
  -h, --help      display help for command

Commands:
  apiKeys         Manage API keys
  audiences       Audience operations
  broadcasts      Broadcast operations
  contacts        Manage contacts in your audiences
  domains         Domain operations
  email           Email operations
  help [command]  display help for command

```

### Email Commands

```bash
$ resend-cli email --help
Usage: resend-cli email [options] [command]

Email operations

Options:
  -h, --help          display help for command

Commands:
  send [options]      Send an email via Resend API
  retrieve [options]  Retrieve an email by ID from Resend API
  update [options]    Update a scheduled email via Resend API
  cancel [options]    Cancel a scheduled email via Resend API

```

### Send Email Command

```bash
$ resend-cli email send --help
Usage: email send [OPTIONS]

Send an email via Resend API

OPTIONS:
  --from, -f <value>          Sender email address with optional name
  --to, -t <value>            Recipient email(s) - comma separated for multiple (max 50)
  --subject, -s <value>       Email subject line
  --bcc, -b <value>           Blind carbon copy recipients - comma separated
  --cc, -c <value>            Carbon copy recipients - comma separated for multiple
  --scheduled-at, -a <value>  Natural language (in 1 min) or ISO 8601 format
  --reply-to, -r <value>      Reply-to address(es) - comma separated
  --html, -h <value>          HTML version of the message
  --text, -x <value>          Plain text version

EXAMPLES:
  $ resend-cli email send --from="Acme <onboarding@resend.dev>" --to="user@example.com" --subject="Hello World" --html="<h1>it works!</h1>"
  $ resend-cli email send -f onboarding@resend.dev -t user@example.com -s "Hello World" --text="it works!"
  $ resend-cli email send --output json --from="..." --to="..." --subject="..." --html="..." | jq '.'
  $ EMAIL_ID=$(resend-cli email send --output json ... | jq -r '.data.id')
  $ RESEND_API_KEY="re_xxxxx" resend-cli email send --from="..." --to="..." --subject="..." --html="..."

```

## Output Formats

The CLI supports both human-readable and machine-readable output:

### Default (Human-readable)
```bash
$ resend-cli email send --from="..." --to="..." --subject="..." --text="..."
Email sent successfully:
From: Acme <onboarding@resend.dev>
To: delivered@resend.dev
Subject: Hello
Plain Text: Hello World
API Key: re_abc123...
Email ID: 550e8400-e29b-41d4-a716-446655440000

Email sent! ID: 550e8400-e29b-41d4-a716-446655440000
```

### JSON Output (for automation)
```bash
$ resend-cli email send --output json --from="..." --to="..." --subject="..." --text="..."
{
  "success": true,
  "data": {
    "to": "delivered@resend.dev",
    "from": "Acme <onboarding@resend.dev>", 
    "subject": "Hello",
    "text": "Hello World",
    "id": "550e8400-e29b-41d4-a716-446655440000"
  }
}
```

### Dry-run Output (validation only)
```bash
$ resend-cli email send --dry-run --from="..." --to="..." --subject="..." --text="..."
DRY RUN - Email data (validation only):
From: Acme <onboarding@resend.dev>
To: delivered@resend.dev
Subject: Hello
Plain Text: Hello World
API Key: re_abc123...
Dry Run: true

Validation successful! (Email not sent due to --dry-run flag)
```

### Error Handling
```bash
$ resend-cli email send --output json
{
  "success": false,
  "error": "We found an error with one or more fields in the request.",
  "code": "validation_error",
  "errors": [
    {
      "field": "to",
      "message": "Required"
    }
  ]
}
```

## Examples

### Send a simple email

Send a basic text email

```bash
$ resend-cli email send --from="Acme <onboarding@resend.dev>" --to="delivered@resend.dev" --subject="Hello" --text="Hello World"
```

### Send HTML email

Send an HTML email with formatted sender

```bash
$ resend-cli email send --from="Acme <onboarding@resend.dev>" --to="delivered@resend.dev" --subject="Welcome" --html="<h1>Welcome!</h1>"
```

### Get JSON output

Send email and extract ID using jq for automation

```bash
$ resend-cli email send --output json --from="Acme <onboarding@resend.dev>" --to="delivered@resend.dev" --subject="Test" --text="Hello" | jq ".data.id"
```



### Additional Examples

**Schedule an email:**
```bash
$ resend-cli email send \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Scheduled Email" \
  --text="This email was scheduled" \
  --scheduled-at="in 5 minutes"
```

**Send with multiple recipients:**
```bash
$ resend-cli email send \
  --from="Acme <onboarding@resend.dev>" \
  --to="user1@example.com,user2@example.com" \
  --cc="manager@example.com" \
  --subject="Team Update" \
  --html="<h1>Team Update</h1><p>Important information...</p>"
```

**Extract email ID for tracking:**
```bash
$ EMAIL_ID=$(resend-cli email send --output json \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Welcome" \
  --html="<h1>Welcome!</h1>" | jq -r '.data.id')
$ echo "Email sent with ID: $EMAIL_ID"
```

**Dry-run examples:**
```bash
# CLI dry-run mode
$ resend-cli email send --dry-run \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Test" \
  --text="Testing validation"

# TUI dry-run mode
$ resend-cli --dry-run
```

## TUI Mode (Interactive Interface)

Launch the interactive interface for a guided experience:

```bash
$ resend-cli
```

**Features:**
- **Interactive Navigation**: Arrow keys to navigate through options
- **Form-based Input**: Guided forms for each operation with validation
- **Module Organization**: Organized by functionality (Email, Domains, etc.)
- **Rich Display**: Formatted results with colors and layout

**Available Modules:**
- **Email Operations** - Send, batch, retrieve, update, cancel emails
- **Domain Management** - Create, verify, update, delete domains
- **Audience Management** - Create, list, retrieve, delete audiences
- **API Key Management** - Create, list, delete API keys
- **Contact Management** - Create, list, update, delete contacts
- **Broadcast Operations** - Create, send, manage broadcasts

**Navigation:**
- **Arrow Keys / Enter**: Navigate and select options
- **Escape**: Go back | **Ctrl+C**: Exit

**Dry-Run Mode:**
- **CLI**: Add `--dry-run` flag to any command for validation without sending
- **TUI**: Start with `--dry-run` flag
- **Warning**: Orange warning banner appears when dry-run mode is active

## CI/CD Integration

Perfect for automated workflows:

```bash
# Extract email ID for further processing
EMAIL_ID=$(resend-cli email send --output json \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Welcome to our app" \
  --html="<h1>Welcome!</h1>" | jq -r '.data.id')

echo "Sent email with ID: $EMAIL_ID"
```

## Complete CLI Reference

## Global Options

Available for all commands:

- `--output <format>` - Output format (text, json)
- `--help, -h` - Display help for command
- `--version, -V` - Output the version number

## apiKeys

Manage API keys

### apiKeys create

[options]  Create a new API key in Resend

### apiKeys delete

[options]  Delete an existing API key from Resend

### apiKeys list

List all API keys in Resend


## audiences

Audience operations

### audiences create

[options]    Create a new audience via Resend API

### audiences retrieve

[options]  Retrieve an audience by ID from Resend API

### audiences delete

[options]    Delete an audience by ID from Resend API

### audiences list

[options]      List all audiences from Resend API


## broadcasts

Broadcast operations

### broadcasts list

List all broadcasts


## contacts

Manage contacts in your audiences

### contacts create

[options]    Create a contact in an audience via Resend API

### contacts delete

[options]    Delete a contact by ID or email from an audience in Resend

### contacts list

[options]      List all contacts in an audience

### contacts retrieve

[options]  Retrieve a contact by ID or email from an audience


## domains

Domain operations

### domains list

List all domains


## email

Email operations

### email send

[options]      Send an email via Resend API

### email retrieve

[options]  Retrieve an email by ID from Resend API

### email update

[options]    Update a scheduled email via Resend API

### email cancel

[options]    Cancel a scheduled email via Resend API




## Troubleshooting

### Common Issues

**Missing API Key:**
```
✗ Configuration Error
  Missing required environment variable: RESEND_API_KEY
  Get your API key at https://resend.com/docs/dashboard/api-keys/introduction
```

- **Input Validation**: All inputs are validated - invalid emails, missing required fields, etc. will show clear error messages
- **Unknown Options**: Unknown command options will trigger helpful error messages with suggestions

## Development

See [DEVELOPMENT.md](./DEVELOPMENT.md) for development setup, architecture details, and contributing guidelines.

## License

MIT License - see [LICENSE](./LICENSE) file for details.

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Update documentation
6. Submit a pull request

See [DEVELOPMENT.md](./DEVELOPMENT.md) for detailed development setup.

---

*Documentation last updated: 2025-07-08*

*CLI help content is auto-generated from actual CLI output to ensure accuracy.*