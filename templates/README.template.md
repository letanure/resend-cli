<!--
⚠️  DO NOT EDIT THIS FILE DIRECTLY!
This README.md is auto-generated from templates/README.template.md
To make changes, edit the template file and run: npm run docs:generate
-->

# Resend CLI

A command-line interface for the [Resend](https://resend.com) email API. Features both CLI commands and an interactive TUI (Text User Interface) for sending emails, managing domains, and more.

> **⚠️ Disclaimer**: This is an **unofficial** CLI tool built on top of the [Resend Node.js SDK](https://github.com/resendlabs/resend-node). It is not affiliated with or endorsed by Resend. For official Resend tools and support, visit [resend.com](https://resend.com).

> **🚧 Development Status**: Some features (email update/cancel, audience management) are implemented but not yet released. They will be available in the next version.

Perfect for:
- Testing email flows during development
- Sending notifications from CI/CD pipelines
- Quick email sending from scripts and automation
- Local development without web interfaces

## Requirements

- Node.js 18+
- Resend API key (get one at [resend.com](https://resend.com))

## Quick Start (TLDR)

### CLI Mode
```bash
# Send an email via CLI
npx @letanure/resend-cli email send \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Hello from CLI" \
  --text="This email was sent from the command line!"
```

### TUI Mode (Interactive)
```bash
# Launch interactive interface
npx @letanure/resend-cli

# Launch in dry-run mode (validation only, no sending)
npx @letanure/resend-cli --dry-run
```

**Prerequisites:** Set your Resend API key as an environment variable:
```bash
export RESEND_API_KEY="re_your_api_key_here"
```

Get your API key at: https://resend.com/docs/dashboard/api-keys/introduction

**Note for Testing:** When testing with real emails, use your registered email address in the `--to` field to ensure delivery.

## Table of Contents

- [Requirements](#requirements)
- [Quick Start (TLDR)](#quick-start-tldr)
- [Installation](#installation)
- [Configuration](#configuration)
- [CLI Commands](#cli-commands)
- [Output Formats](#output-formats)
- [Examples](#examples)
- [TUI Mode (Interactive Interface)](#tui-mode-interactive-interface)
- [CI/CD Integration](#cicd-integration)
- [Complete CLI Reference](#complete-cli-reference)
- [Troubleshooting](#troubleshooting)
- [Development](#development)
- [License](#license)
- [Contributing](#contributing)

## Installation

**Recommended:** Use with npx (no installation required)
```bash
npx @letanure/resend-cli --help
```

**For frequent use:** Install globally
```bash
npm install -g @letanure/resend-cli
resend-cli --help
```

**In projects:** Install locally
```bash
npm install @letanure/resend-cli
npx resend-cli --help
```

## Configuration

### Environment Variables

The CLI requires your Resend API key to be available as an environment variable.

#### Setup Methods

**Temporary (current session only):**
```bash
export RESEND_API_KEY="re_xxxxxxxxxxxx"
```

**Permanent (recommended):**
```bash
# Add to your shell profile
echo 'export RESEND_API_KEY="re_xxxxxxxxxxxx"' >> ~/.bashrc
source ~/.bashrc

# Or for zsh users
echo 'export RESEND_API_KEY="re_xxxxxxxxxxxx"' >> ~/.zshrc
source ~/.zshrc
```

**One-time usage:**
```bash
RESEND_API_KEY="re_xxxxxxxxxxxx" resend-cli email send --from="..." --to="..."
```

#### Getting Your API Key

1. Sign up at [resend.com](https://resend.com)
2. Go to [API Keys](https://resend.com/api-keys)
3. Create a new API key
4. Copy the key (starts with `re_`)

## CLI Commands

{{CLI_HELP_MAIN}}

### Email Commands

{{CLI_HELP_EMAIL}}

### Send Email Command

{{CLI_HELP_EMAIL_SEND}}

### API Keys Commands

{{CLI_HELP_APIKEYS}}

### Audiences Commands

{{CLI_HELP_AUDIENCES}}

### Contacts Commands

{{CLI_HELP_CONTACTS}}

## Output Formats

The CLI supports both human-readable and machine-readable output:

### Default (Human-readable)
```bash
$ resend-cli email send --from="..." --to="..." --subject="..." --text="..."
Email sent successfully:
From: Acme <onboarding@resend.dev>
To: delivered@resend.dev
Subject: Hello
Plain Text: Hello World
API Key: re_abc123...
Email ID: 550e8400-e29b-41d4-a716-446655440000

Email sent! ID: 550e8400-e29b-41d4-a716-446655440000
```

### JSON Output (for automation)
```bash
$ resend-cli email send --output json --from="..." --to="..." --subject="..." --text="..."
{
  "success": true,
  "data": {
    "to": "delivered@resend.dev",
    "from": "Acme <onboarding@resend.dev>", 
    "subject": "Hello",
    "text": "Hello World",
    "id": "550e8400-e29b-41d4-a716-446655440000"
  }
}
```

### Dry-run Output (validation only)
```bash
$ resend-cli email send --dry-run --from="..." --to="..." --subject="..." --text="..."
DRY RUN - Email data (validation only):
From: Acme <onboarding@resend.dev>
To: delivered@resend.dev
Subject: Hello
Plain Text: Hello World
API Key: re_abc123...
Dry Run: true

Validation successful! (Email not sent due to --dry-run flag)
```

### Error Handling
```bash
$ resend-cli email send --output json
{
  "success": false,
  "error": "We found an error with one or more fields in the request.",
  "code": "validation_error",
  "errors": [
    {
      "field": "to",
      "message": "Required"
    }
  ]
}
```

## Examples

{{CLI_EXAMPLES}}

### Additional Examples

**Schedule an email:**
```bash
$ resend-cli email send \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Scheduled Email" \
  --text="This email was scheduled" \
  --scheduled-at="in 5 minutes"
```

**Send with multiple recipients:**
```bash
$ resend-cli email send \
  --from="Acme <onboarding@resend.dev>" \
  --to="user1@example.com,user2@example.com" \
  --cc="manager@example.com" \
  --subject="Team Update" \
  --html="<h1>Team Update</h1><p>Important information...</p>"
```

**Extract email ID for tracking:**
```bash
$ EMAIL_ID=$(resend-cli email send --output json \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Welcome" \
  --html="<h1>Welcome!</h1>" | jq -r '.data.id')
$ echo "Email sent with ID: $EMAIL_ID"
```

**Dry-run examples:**
```bash
# CLI dry-run mode
$ resend-cli email send --dry-run \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Test" \
  --text="Testing validation"

# TUI dry-run mode
$ resend-cli --dry-run
```

## TUI Mode (Interactive Interface)

Launch the interactive interface for a guided experience:

```bash
$ resend-cli
```

**Features:**
- **Interactive Navigation**: Arrow keys to navigate through options
- **Form-based Input**: Guided forms for each operation with validation
- **Module Organization**: Organized by functionality (Email, Domains, etc.)
- **Rich Display**: Formatted results with colors and layout

**Available Modules:**
- **Email Operations** - Send, batch, retrieve, update, cancel emails
- **Domain Management** - Create, verify, update, delete domains
- **Audience Management** - Create, list, retrieve, delete audiences
- **API Key Management** - Create, list, delete API keys
- **Contact Management** - Create, list, update, delete contacts
- **Broadcast Operations** - Create, send, manage broadcasts

**Navigation:**
- **Arrow Keys / Enter**: Navigate and select options
- **Escape**: Go back | **Ctrl+C**: Exit

**Dry-Run Mode:**
- **CLI**: Add `--dry-run` flag to any command for validation without sending
- **TUI**: Start with `--dry-run` flag
- **Warning**: Orange warning banner appears when dry-run mode is active

## CI/CD Integration

Perfect for automated workflows:

```bash
# Extract email ID for further processing
EMAIL_ID=$(resend-cli email send --output json \
  --from="Acme <onboarding@resend.dev>" \
  --to="delivered@resend.dev" \
  --subject="Welcome to our app" \
  --html="<h1>Welcome!</h1>" | jq -r '.data.id')

echo "Sent email with ID: $EMAIL_ID"
```

## Complete CLI Reference

{{CLI_REFERENCE}}

## Troubleshooting

### Common Issues

**Missing API Key:**
```
✗ Configuration Error
  Missing required environment variable: RESEND_API_KEY
  Get your API key at https://resend.com/docs/dashboard/api-keys/introduction
```

- **Input Validation**: All inputs are validated - invalid emails, missing required fields, etc. will show clear error messages
- **Unknown Options**: Unknown command options will trigger helpful error messages with suggestions

## Development

See [DEVELOPMENT.md](./DEVELOPMENT.md) for development setup, architecture details, and contributing guidelines.

## License

MIT License - see [LICENSE](./LICENSE) file for details.

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Update documentation
6. Submit a pull request

See [DEVELOPMENT.md](./DEVELOPMENT.md) for detailed development setup.

---

*Documentation last updated: {{GENERATED_DATE}}*

*CLI help content is auto-generated from actual CLI output to ensure accuracy.*